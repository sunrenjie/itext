<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
	<!-- $Header$ -->
	<META NAME="Description" CONTENT="iText is a JAVA library that can be used to generate complex PDF documents (with images, tables,...).">
	<META NAME="Keywords" CONTENT="PDF, JAVA, servlets, iText, Tutorial, generate, internet, documents, Lowagie, Bruno">
	<META CONTENT="0" HTTP-EQUIV="Expires">
	<TITLE>iText - Tutorial</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#008080" VLINK="#008080" ALINK="#00CCCC">

<A NAME="top"></A>

<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="5" ALIGN="center" BGCOLOR="#808080">
<TR>
	<TD>
	<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="7" BGCOLOR="#008080">
	<TR>
		<TD COLSPAN="2" ALIGN="center">
			<FONT FACE="Times New Roman" SIZE="+3" COLOR="#FFFFFF"><I>i</I></FONT><FONT FACE="Arial,Helvetica" SIZE="+3" COLOR="#FFFFFF">Text Tutorial</FONT>
		</TD>
		<TD COLSPAN="3" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">iText, a Free Java-PDF library<BR>
			by </FONT><A HREF="http://www.lowagie.com/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Bruno Lowagie</FONT></A><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="http://www.lowagie.com/iText/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Home</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch05.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Previous</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch07.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<BR>
			<FONT FACE="Arial,Helvetica" SIZE="+1">Part I: Simple PDF</FONT><BR><BR>
			<FONT FACE="Arial,Helvetica"><B>Chapter 6: Images</B></FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>The Image object</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			If you study the API, you will notice that there are several constructors
			you can use to create an image. However in this tutorial, we will only look
			at the most simple solution, i.e. by asking the Image object an instance of an
			Image identified by an URL or a filename:<BR>
			<FONT FACE="Courier">public static Image getInstance(URL url)<BR>&nbsp;&nbsp;&nbsp;throws BadElementException, MalformedURLException, IOException<BR>
			public static Image getInstance(String filename)<BR>&nbsp;&nbsp;&nbsp;throws BadElementException, MalformedURLException, IOException
			</FONT><BR><BR>
			Image is an abstract class, so the getInstance method will detect if the type of
			the given image (GIF, Jpeg or PNG) and return an object of type <FONT FACE="Courier">Gif</FONT>,
			<FONT FACE="Courier">Jpeg</FONT> or <FONT FACE="Courier">Png</FONT>.
			Some images will be rejected, please consult the <A HREF="http://www.lowagie.com/iText/faq.html#images">FAQ</A>
			if you have questions about rejected images.<BR><BR>
			<B>Getting an instance of an image using an URL</B><BR>
			This is the most simple way to add an Image. In <A HREF="http://www.lowagie.com/iText/examples/Chap0601.java">example 1</A>,
			we add a GIF (<A HREF="vonnegut.gif">a picture of SF-writer Kurt Vonnegut 26 kByte</A>),
			a Jpeg (<A HREF="myKids.jpg">a picture of my children 7 kByte</A>) and a PNG
			(<A HREF="hitchcock.png">a picture of Alfred Hitchcock 16 kByte</A>) to the document,
			using 3 URLs referring to my site:<BR>
			<FONT FACE="Courier">
			Image gif = Image.getInstance(new URL("http://www.lowagie.com/iText/tutorial/vonnegut.gif"));<BR>
			Image jpeg = Image.getInstance(new URL("http://www.lowagie.com/iText/tutorial/myKids.jpg"));<BR>
			Image png = Image.getInstance(new URL("http://www.lowagie.com/iText/tutorial/hitchcock.png"));
			</FONT><BR>
			The <A HREF="http://www.lowagie.com/iText/examples/Chap0601.pdf">resulting PDF file</A> is 50 kByte: it contains the image data
			of the 3 images. The <A HREF="http://www.lowagie.com/iText/examples/Chap0601.html">resulting HTML file</A> is 1 kByte: it contains
			the references to the urls of the 3 images.<BR><BR>
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<B>Remark:</B><BR>
				Lots of PDF libraries decompress images and change them into a Bitmap-like format
				before adding them to the PDF-file. There are several reasons why I avoided such
				an approach:<BR>
				<UL>
				<LI>This results in huge PDF files. The size of the resulting file is tens of
				times larger than the sum of the different images.
				<LI>In order to be able to use such a library, you often need to change some
				UNIX configurations (X11).
				<LI>There is a legal problem: the LZW-algorithm is patented, so I was not
				allowed to use this algorithm to decompress GIF-files.
				</UL>
				I found it much easier to copy the bits of the image file into the
				PDF file instead of decompressing/compressing the image data (thus
				avoiding all practical, technical and legal problems).<BR>
				</FONT>
				</TD>
				</TR>
			</TABLE><BR>
			<B>Getting an instance of an image using a filename</B><BR>
			We can change example 1 into <A HREF="http://www.lowagie.com/iText/examples/Chap0602.java">example 2</A> by simply changing
			the way images are instanciated:<BR>
			<FONT FACE="Courier">
			Image gif = Image.getInstance("vonnegut.gif");<BR>
			Image jpeg = Image.getInstance("myKids.jpg");<BR>
			Image png = Image.getInstance("hitchcock.png");
			</FONT><BR>
			The <A HREF="http://www.lowagie.com/iText/examples/Chap0602.pdf">resulting PDF file</A> is identical to the one in example 1,
			but there is a big difference in the <A HREF="http://www.lowagie.com/iText/examples/Chap0602.html">resulting HTML file</A>.<BR>
			If we study the source code, we can immediately see what causes the problem:<BR>
			<FONT FACE="Courier">&lt;IMG BORDER="0" HEIGHT="149" SRC="file:/D:/cvs/lib/vonnegut.gif" WIDTH="198"&gt;
			</FONT><BR>
			I generated the HTML file on the D:-drive of my NT workstation and afterwards I put
			this file on my LINUX webserver. It is evident that the links to my local D:-drive
			are broken (or isn't it: I see lots of similar errors on amateur webpages).<BR>
			You can avoid this problem by telling the <FONT FACE="Courier">HtmlWriter</FONT>
			to use a given basepath for images:<BR>
			<FONT FACE="Courier">
			HtmlWriter writer = HtmlWriter.getInstance(document, new FileOutputStream("Chap0603.html"));<BR>
			writer.setImagepath("../../images/kerstmis/");		
			</FONT><BR>
			In this <A HREF="http://www.lowagie.com/iText/examples/Chap0603.java">example</A>, we tell the writer to use a relative
			path (in this case the path to some <A HREF="../../images/kerstmis/">Christmas photo's</A>)
			for every image we add. This is the resulting <A HREF="http://www.lowagie.com/iText/examples/Chap0603.pdf">PDF</A> and
			<A HREF="http://www.lowagie.com/iText/examples/Chap0603.html">HTML</A>.
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Positioning the Image</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			<B>alignment</B><BR>
			An image can be aligned, using the method<BR>
			<FONT FACE="Courier">
			setAlignment(Image.RIGHT)<BR>
			setAlignment(Image.MIDDLE)<BR>
			setAlignment(Image.LEFT)<BR>
			</FONT>
			See <A HREF="http://www.lowagie.com/iText/examples/Chap0604.java">example 4</A> and the <A HREF="http://www.lowagie.com/iText/examples/Chap0604.pdf">resulting PDF</A>:
			we added the picture of Vonnegut to the right, the picture of my children in the middle
			and hitchcock to the left.<BR><BR>
			<B>Images and text</B><BR>
			But there's more, you can also specify that text has to be wrapped around the image
			(see <A HREF="http://www.lowagie.com/iText/examples/Chap0605.java">example 5</A> and the <A HREF="http://www.lowagie.com/iText/examples/Chap0605.pdf">resulting PDF</A>):<BR>
			<FONT FACE="Courier">
			setAlignment(Image.RIGHT | TEXTWRAP)<BR>
			setAlignment(Image.MIDDLE)<BR>
			setAlignment(Image.LEFT | UNDERLYING)<BR>
			</FONT>
			The text is wrapped on the left side of the Vonnegut-picture, isn't wrapped around the
			picture of my children and is written over the Hitchcock-image.<BR>
			Remark: these functionalities still have a lot of bugs.<BR><BR>
			
			<B>Absolute positions</B><BR>
			When generating PDF-files, you can use the method<BR>
			<FONT FACE="Courier">public void setAbsolutePosition(int absoluteX, int absoluteY)</FONT><BR>
			to place an image at an absolute position on a page. In <A HREF="http://www.lowagie.com/iText/examples/Chap0606.java">example 6</A>
			we add two pictures at different coordinates. In the <A HREF="http://www.lowagie.com/iText/examples/Chap0606.pdf">resulting PDF</A>,
			you can see that the given coordinates are used to position the lowerleft corner of the
			image. We took the width and height of the image as x- and y-coordinate for the first
			image and two times these values for the second.
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Scaling and Rotating the Image</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			<B>Scaling</B><BR>
			There are several possibilities to scale an image:<BR>
			<FONT FACE="Courier">
			public void scaleAbsolute(int newWidth, int newHeight)<BR>
			public void scalePercent(int percent)<BR>
			public void scalePercent(int percentX, int percentY)<BR>
			public void scaleToFit(int fitWidth, int fitHeight)<BR>
			</FONT>
			The picture of my children is 194x202 pixels. If I wanted to make this
			picture smaller I could scale it using <FONT FACE="Courier">scaleAbsolute(97, 101)</FONT>,
			but using <FONT FACE="Courier">scalePercent(50)</FONT> would have the same effect.<BR>
			I could also reduce it like this: <FONT FACE="Courier">scaleAbsolute(194, 101)</FONT>,
			this would be the same as doing this: <FONT FACE="Courier">scalePercent(100, 50)</FONT>.
			All these examples are bundled in <A HREF="http://www.lowagie.com/iText/examples/Chap0607.java">example 7</A>, which results
			in this <A HREF="http://www.lowagie.com/iText/examples/Chap0607.pdf">PDF-document</A>.<BR>
			Finally, there is also the <FONT FACE="Courier">ScaleToFit</FONT>-method.
			This method is used in the <A HREF="http://www.lowagie.com/iText/examples/Calendar.java">Calendar</A>-class.
			It reduces the image, preserving the original aspect ratio. In the
			<A HREF="http://webappcabaret.com/blowagie/itext/">Calendar-application</A>,
			this method is used to allow you to put images of different size on each
			Calendar-page. They are all resized to Fit on a certain area of the page.<BR>
			<BR><B>Rotating</B><BR>
			With the following method, you can rotate images:<BR>
			<FONT FACE="Courier">public void setRotation(double r)<BR>
			</FONT>
			This method is demonstrated in <A HREF="http://www.lowagie.com/iText/examples/Chap0608.java">example 8</A> (see <A HREF="http://www.lowagie.com/iText/examples/Chap0608.pdf">result</A>).
			</FONT><BR><BR>
		</TD>
	</TR> 
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Raw Image data</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Uptil now all examples used images that were stored on your harddisk
			or that were retrieved from some webserver, but it is also possible to
			get an instance of an image using an array of bytes containing the image
			data:<BR>
			<FONT FACE="Courier">public static Image getInstance(byte[] img)</FONT><BR>
			This method has the same effect as the other <FONT FACE="Courier">getInstance</FONT>-methods
			discussed earlier: it returns a new <FONT FACE="Courier">Image</FONT>-object of type
			<FONT FACE="Courier">Gif</FONT>, <FONT FACE="Courier">Jpeg</FONT> or <FONT FACE="Courier">Png</FONT>.<BR>
			In <A HREF="http://www.lowagie.com/iText/examples/Chap0609.java">example 9</A>, we first add an image that was read from a
			jpeg-file into an array of bytes. It is evident that in this case it is better to
			use another <FONT FACE="Courier">getInstance</FONT>-method, but this is just an
			example. This <FONT FACE="Courier">getInstance</FONT>-method is especially useful
			when you have images that were created 'on the fly', images that were never saved
			to a file as such.<BR>
			The example also demonstrates how you can create a Raw Image and use:<BR>
			<FONT FACE="Courier">public static Image getInstance(int width, int height, int components, int bpc, byte data[])<BR></FONT>
			In the example an image of 100 by 100 pixels is created. The images is 100 x 100 x 3 bytes
			large, because every pixels is described by a RGB-value. You can see the result
			of the algorithm in file <A HREF="http://www.lowagie.com/iText/examples/Chap0609.pdf">Chap0609.pdf</A>.
			</FONT><BR><BR><BR>
		</TD>
	</TR> 
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><a name="advanced"><B>Advanced Example</B></a></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			<a href="http://www.lowagie.com/iText/examples/Chap0610.java">Example 10</a> is a very advanced example for three reasons:<br>
			<ol>
			<li>In the first place the
			class <b>java.awt.Image</b> is used. This is a class in the JDK and it can be used for a
			big variety of image-types, for instance TIFF-files, GIF-files that are on the iText list of
			not supported images,... You will have to check the JDK to see if the image type you need
			is supported.
			<li>Also there is something you may have noticed in the previous examples: it doesn't matter
			when you add an image, the text is allways on top of your image. In this example
			we want the image to be <b>on top of the text</b>. That's why we are going to use the class
			<FONT FACE="Courier">com.lowagie.text.pdf.PdfContentByte</FONT> (this class will be explained in
			<a href="ch10.html">Chapter 10</a>).
			<li>
			Finally, you will notice that the image used in this example is a <b>transparent gif</b>.
			Check out the <a href="http://www.lowagie.com/iText/examples/Chap0610.pdf">resulting PDF-file</a>.
			</ol>
			</FONT><BR><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="#top"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Top</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch05.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Previous</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch07.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="2" ALIGN="left" VALIGN="top" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			<B>Page Updated: </B> $Date$<br>
			Copyright &copy; 2000, 2001 by Bruno Lowagie
			</FONT>
		</TD>
		<TD COLSPAN="3" ALIGN="right" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			Adolf Baeyensstraat 121, 9040 Gent, BELGIUM,<br>
			tel +00 32 92 28 10 97 mailto:<A HREF="mailto:bruno@lowagie.com"><FONT COLOR="#000000">bruno@lowagie.com</FONT></A>
			</FONT>
		</TD>
	</TR>
	</TABLE>
	</TD>
</TABLE>

</BODY>
</HTML>
 
