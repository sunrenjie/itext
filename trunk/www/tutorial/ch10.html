<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
	<!-- $Header$ -->
	<META NAME="Description" CONTENT="iText is a JAVA library that can be used to generate complex PDF documents (with images, tables,...).">
	<META NAME="Keywords" CONTENT="PDF, JAVA, servlets, iText, Tutorial, generate, internet, documents, Lowagie, Bruno">
	<META CONTENT="0" HTTP-EQUIV="Expires">
	<TITLE>iText - Tutorial</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#008080" VLINK="#008080" ALINK="#00CCCC">

<A NAME="top"></A>

<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="5" ALIGN="center" BGCOLOR="#808080">
<TR>
	<TD>
	<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="7" BGCOLOR="#008080">
	<TR>
		<TD COLSPAN="2" ALIGN="center">
			<FONT FACE="Times New Roman" SIZE="+3" COLOR="#FFFFFF"><I>i</I></FONT><FONT FACE="Arial,Helvetica" SIZE="+3" COLOR="#FFFFFF">Text Tutorial</FONT>
		</TD>
		<TD COLSPAN="3" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">iText, a Free Java-PDF library<BR>
			by </FONT><A HREF="http://www.lowagie.com/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Bruno Lowagie</FONT></A><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="http://www.lowagie.com/iText/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Home</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch09.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Previous</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch11.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<BR>
			<FONT FACE="Arial,Helvetica" SIZE="+1">Part III: Advanced iText</FONT><BR><BR>
			<FONT FACE="Arial,Helvetica"><B>Chapter 10: Absolute Positioning of Graphics and Text</B></FONT><BR><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>PdfContentByte</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Uptil now, we have used <b>Simple iText</b>, we have added text and images, chapters and sections, lists and tables,...
			without bothering about layout. iText took care of dividing the text into pages and positioning every word, sentence,
			paragraph on a page. But sometimes we don't want this automatic formatting. Sometimes we want to put some graphic or
			some text at some exact position on a page. To achieve this, we are going to use the class <font face="Courier">PdfContentByte</font>.
			<br><br>
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<b>Remark:</b><br>
				the class <font face="Courier">PdfContentByte</font> can only be used in combination with one <font face="Courier">PdfWriter</font>
				object. It can't be used for HTML or any other format.
				</FONT>
				</TD>
				</TR>
			</TABLE><BR>
			So instead of what was said in <a href="ch01.html">Chapter 1</a>, it's not sufficient to invoke the
			method <font face="Courier">getInstance</font> on class <font face="Courier">PdfWriter</font>, you
			must actually have a <font face="Courier">PdfWriter</font>-object. You can obtain this object by using
			the method <font face="Courier">getDirectContent()</font> on this writer-object.<br>
            <B>Example:</B><BR>
			<font face="Courier">
			PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream("test.pdf"));<br>
			PdfContentByte cb = writer.getDirectContent();<br>
			</font>
			</FONT><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><A NAME="graphics"><B>Graphics</B></A></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
            In <A HREF="http://www.lowagie.com/iText/examples/Chap1001.java">example 1</A>, some simple graphics are drawn.
            We use methods such as <FONT FACE="Courier">moveTo</FONT> and <FONT FACE="Courier">lineTo</FONT>
            to move to a certain position on the page and draw a line to another position.
            We use methods such as <FONT FACE="Courier">setLineWith</FONT> and
            <FONT FACE="Courier">setLineDash</FONT> to alter the appearance of the line.<br>
            <B>Example:</B><BR>
            <FONT FACE="Courier">
            cb.setLineWidth(10f);<BR>
			cb.moveTo(100, 700);<BR>
			cb.lineTo(200, 800);<BR>
			cb.stroke();
            </FONT>
            <br><br>
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<b>Remark:</b><br>
				When you change the properties such as color, linewidth,... these changes will been
                taken into account on the moment you call one of the <FONT FACE="Courier">stroke</FONT>-methods.
                In the example with the triangle, we set the color to green, but before we stroke the triangle
                we change it to red. The resulting triangle will be red, not green.
				</FONT>
				</TD>
				</TR>
			</TABLE><BR>
            As you can see in the <A HREF="http://www.lowagie.com/iText/examples/Chap1001.pdf">resulting PDF</A> some other
            methods such as <FONT FACE="Courier">rectangle</FONT> and <FONT FACE="Courier">circle</FONT>
            are used. Please consult the welldocumented <a href="http://itext.sourceforge.net/docs/com/lowagie/text/pdf/PdfContentByte.html">API of class
            PdfContentByte</A> and the PDF Reference manual for more info.
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><A NAME="text"><B>Text</B></A></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
            When you want to write text to the contentbyte, you have to use the methods
            <FONT FACE="Courier">beginText()</FONT> and <FONT FACE="Courier">endText()</FONT>.
            You also have to set the font and size. As in the graphics example, there are lots
            of methods that can be used to write and position text, but the ones you will need
            the most are the method <FONT FACE="Courier">showTextAligned</FONT> and the method
            <FONT FACE="Courier">showText</FONT> in combination with <FONT FACE="Courier">setTextMatrix</FONT>.<br>
            <B>Example 1:</B><br>
            <FONT FACE="Courier">
            BaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);&nbsp;
            cb.beginText();<BR>
            cb.setFontAndSize(bf, 12);<BR>
            cb.showTextAligned(PdfContentByte.ALIGN_CENTER, text + "This text is centered", 250, 700, 0);<BR>
            cb.endText();
            </FONT><BR>
            <B>Example 2:</B><br>
            <FONT FACE="Courier">
            BaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);<BR>
            cb.beginText();<BR>
            cb.setFontAndSize(bf, 12);<BR>
            cb.setTextMatrix(100, 400);<BR>
            cb.showText("Text at position 100,400.");<BR>
            cb.endText();
            </FONT><BR>
            Please take a look at <a href="http://www.lowagie.com/iText/examples/Chap1002.java">example 2</A> and its <A HREF="http://www.lowagie.com/iText/examples/Chap1002.pdf">resulting PDF</A>.
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B><A NAME="templates">Templates</A> (Form XObjects)</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
            When we discussed the HeaderFooter object in <A HREF="ch04.html">Chapter 4</A>, we defined a piece
            of information that was added on each page. In fact, this piece of information was written to the file
            on every new page. This is not a very economic solution. It is better to add this piece of information
            only once to the document (as a form XObject) and repeat only its visualization. To achieve this,
            we are going to use templates.<br><BR>
            <B>Creation of a PdfTemplate</B><br>
            The best way to create a <FONT FACE="Courier">PdfTemplate</FONT>, is to invoke the method
            <FONT FACE="Courier">createTemplate</FONT> on the <FONT FACE="Courier">PdfContentByte</FONT>-object:<br>
            <FONT FACE="Courier">
            PdfTemplate template = cb.createTemplate(500, 200);
            </FONT><BR>
            In this case, the width of the template is 500, the height 200.<br>
            With this template, we can do the same things as we did with the
            <FONT FACE="Courier">PdfContentByte</FONT>.<BR>
            <FONT FACE="Courier">
			template.moveTo(0, 200);<BR>
			template.lineTo(500, 0);<BR>
            template.stroke();<BR>
            template.beginText();<BR>
            BaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);<BR>            
            template.setFontAndSize(bf, 12);<BR>
            template.setTextMatrix(100, 100);<BR>
            template.showText("Text at the position 100,100 (relative to the template!)");<BR>
            template.endText();
            </FONT><BR><BR>
            <B>Adding a template to the document</B><BR>
            You can add a template at an absolute position like this:<BR>
            <FONT FACE="Courier">
            cb.addTemplate(template, 0, 400);
            </FONT><BR>
            But you can also do some funny things with Templates, such as rotate
            or scale them:<BR>
            <FONT FACE="Courier">
            // rotate the template 90 degrees<br>
            cb.addTemplate(template, 0, 1, -1, 0, 500, 200);<br>
            // scale the template to 50%<br>
            cb.addTemplate(template, .5f, 0, 0, .5f, 100, 400);<br>
            // scale the template to 200%<br>
            cb.addTemplate(template, 2, 0, 0, 2, -200, 400);
            </FONT><BR>
            This is demonstrated in <a href="http://www.lowagie.com/iText/examples/Chap1003.java">example 3</A> (see <A HREF="http://www.lowagie.com/iText/examples/Chap1003.pdf">Chap1003.pdf</A>).
            <BR><BR>
            <B><A NAME="pageXofY">Page x of y</A></B><BR>
            In some cases, you may want to add information that is not available yet at the moment
            you write a certain page to the outputstream. For instance: on the first page of a document,
            you don't know how many pages the document will count in total. You only know the total
            number of pages once you have finished generating the entire document. This is not a problem
            when you use templates. In example 3, we added information to the template <I>before</I> we
            added the template to the contentbyte. This is not necessary. We can add information to
            a template at any moment because iText adds the form XObjects at the end of the PDF file
            (when the <FONT FACE="Courier">close</FONT>-method of the document is called).<BR>
            <A HREF="http://www.lowagie.com/iText/examples/Chap1004.java">Example 4</A> shows how 4 pages are created first and how the
            total number of pages is added afterwards (<A HREF="http://www.lowagie.com/iText/examples/Chap1004.pdf">Chap1004</A>). This
            example is very simple and not very useful rightnow, but in <A HREF="ch12.html">Chapter 12</A>,
            we will refine this example.
            </FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><A NAME="columntext"><B>Columns</B></A></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
            Earlier in this chapter, you have learned how to put text on an absolute position.
            In casu: we were able to enter a coordinate where iText had to start writing text.
            If we wanted to know the position where the text ended, we had to do some calculations.<BR>
            Now we want to add some text within a given rectangle. We want the text to wrap automatically
            when the right limit of the rectangle is reached. All text that doesn't fit in the rectangle
            isn't shown. We can achieve this using class <FONT FACE="Courier">ColumnText</FONT>.<BR><BR>
            <B>An example:</B><BR>
            To show a certain phrase, centered in a rectangle between the coordinates (100, 300) and (200, 500),
            we write some code like this:<BR>
            <FONT FACE="Courier">
            PdfContentByte cb = writer.getDirectContent();<BR>
            ColumnText ct = new ColumnText(cb);<BR>
            ct.setSimpleColumn(phrase, 60, 300, 100, 500, 15, Element.ALIGN_CENTER);<BR>
            ct.go();
            </FONT><BR>
            If you take a look at <A HREF="http://www.lowagie.com/iText/examples/Chap1005.java">example 5</A> (<A HREF="http://www.lowagie.com/iText/examples/Chap1005.pdf">Chap1005.pdf</A>),
            you immediately notice that this functionality can be used to draw some complex tables without
            using the <FONT FACE="Courier">Table</FONT>-object.<BR>
            <BR>
            <B>Another example:</B><BR>
            It isn't necessary to add the text all at once. You can first define the rectangle, then add some
            text and finally show the column with the <FONT FACE="Courier">go</FONT>-method:<BR>
            <FONT FACE="Courier">
            PdfContentByte cb = writer.getDirectContent();<BR>
            ColumnText ct = new ColumnText(cb);<BR>
            ct.setSimpleColumn(60, 300, 100, 500, 15, Element.ALIGN_CENTER);<BR>
            ct.addText(phrase1);<BR>
            ct.addText(phrase2);<BR>
            ct.addText(phrase3);<BR>
            ct.go();
            </FONT><BR>
            This is demonstrated in <A HREF="http://www.lowagie.com/iText/examples/Chap1006.java">example 6</A>; the
            <A HREF="http://www.lowagie.com/iText/examples/Chap1006.pdf">resulting PDF</A> of this example is identical
            to the result of example 5.<BR>
            <BR>
            <B><A NAME="multiple">Multiple columns</A></B><BR>
            Of course, if there is more text than space in the rectangle,
            we don't want to loose the text that didn't fit. Maybe we want
            this text to be shown in another column. That's why we are going
            to take a look at the return value of the <FONT FACE="Courier">go</FONT>-method.
            If this return value has the flag '<FONT FACE="Courier">NO_MORE_COLUMN</FONT>' turned
            on, there wasn't enough room for the text in the column. If all the text was shown,
            the flag '<FONT FACE="Courier">NO_MORE_TEXT</FONT>' is on.<BR>
            Please take a close look at <A HREF="http://www.lowagie.com/iText/examples/Chap1007.java">example 7</A> and see how we
            obtain a result like <A HREF="http://www.lowagie.com/iText/examples/Chap1007.pdf">this</A>.<BR><BR>
            <B><A NAME="irregular">Irregular columns</A></B><BR>
            It is also possible to define an non rectangular area with to visualize
            columns. With the method <FONT FACE="Courier">setColumns</FONT>, we can
            define a left and right boundary for the text:<BR>
            <FONT FACE="Courier">
            float[] left  = {70,790, 70,60};<BR>
            float[] right = {300,790, 300,700, 240,700, 240,590, 300,590, 300,106, 270,60};<BR>
            ct.setColumns(left, right);
            </FONT><BR>
            The left border is a straight line, but the right border is irregular.
            The effect of this functionality can lead to very nice layouts:
            see <A HREF="http://www.lowagie.com/iText/examples/Chap1008.pdf">Chap1008.pdf</A> and the <A HREF="http://www.lowagie.com/iText/examples/Chap1008.java">code</A>
            that was used to generate this example.
			</FONT><BR><br>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><A NAME="abspdfptable"><B>PdfPTable</B></A></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			We already briefly mentioned the <FONT FACE="Courier">PdfPTable</FONT> object in <A HREF="ch05.html#pdfptable">Chapter 5</A>.
			Now we are going to discuss some more features of this object.<br>
			You can create a PdfPTable in 3 different ways:<br><br>
			<FONT FACE="Courier">
			PdfPTable(float[] relativeWidths);<br>
			PdfPTable(int numColumns);<br>
			PdfPTable(PdfPTable table);
			</FONT><br><br>
			You can set some parameters for this table, such as the width of the table, widths of the columns, the horizontal alignment,...
			You can add cells with these methods:<br><br>
			<FONT FACE="Courier">
			public void addCell(PdfPCell cell);<br>
			public void addCell(PdfPTable table);<br>
			public void addCell(Phrase phrase);<br>
			public void addCell(String text);
			</FONT><br><br>
			This is all very similar to the <FONT FACE="Courier">Table</FONT>-object, except for cellpadding and cellspacing. These parameters
			are set on the level of each individual cell. Of course you can define the default behaviour of a Cell; to change the defaults
			of a cell, just use the method <FONT FACE="Courier">getDefaultCell()</FONT> and invoke one or more methods of class
			<FONT FACE="Courier">PdfPCell</FONT> on it (you can set alignments, padding, borders, colors, even a minimum height).<br>
			You can add such a table to the document as we did in <A HREF="ch05.html#pdfptable">Chapter 5</A>, but you can also
			add the table on an absolute position of the current page:<br><br>
			<FONT FACE="Courier">
			public float writeSelectedRows(int rowStart, int rowEnd, float xPos, float yPos, PdfContentByte canvas);
			</FONT><br><br>
			The parameter rowStart is the number of the row you want to start with, rowEnd is the last row
			you want to show (if you want to show all the rows, use -1). xPos and yPos are the coordinates
			of the table and canvas is the <FONT FACE="Courier">PdfContentByte</FONT>-object.<br>
			In <A HREF="http://www.lowagie.com/iText/examples/Chap1009.java">example 9</A> (<A HREF="http://www.lowagie.com/iText/examples/Chap1009.pdf">Chap1009</A>), we add a simple table
			at position (100, 600):<br><br>
			<FONT FACE="Courier">
			table.writeSelectedRows(0, -1, 100, 600, writer.getDirectContent());
			</FONT><br><br>
			With PdfPTables, you can't set a rowspan and/or colspan. You can work around this by using nested tables. See
			<A HREF="http://www.lowagie.com/iText/examples/Chap1010.java">example 10</A> (<A HREF="http://www.lowagie.com/iText/examples/Chap1010.pdf">Chap1010.pdf</A>).<br><br>
			Finally <A HREF="http://www.lowagie.com/iText/examples/Chap1011.java">example 11</A> and <A HREF="http://www.lowagie.com/iText/examples/Chap1012.java">example 12</A>
			show you how <FONT FACE="Courier">PdfPTable</FONT> can be used in combination with templates and columns (<A HREF="http://www.lowagie.com/iText/examples/Chap1011.pdf">Chap1011.pdf</A> and <A HREF="http://www.lowagie.com/iText/examples/Chap1012.pdf">Chap1012.pdf</A>).
            </FONT><BR><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="#top"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Top</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch09.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Previous</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch11.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="2" ALIGN="left" VALIGN="top" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			<B>Page Updated: </B> $Date$<br>
			Copyright &copy; 2000, 2001 by Bruno Lowagie
			</FONT>
		</TD>
		<TD COLSPAN="3" ALIGN="right" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			Adolf Baeyensstraat 121, 9040 Gent, BELGIUM,<br>
			tel +00 32 92 28 10 97 mailto:<A HREF="mailto:bruno@lowagie.com"><FONT COLOR="#000000">bruno@lowagie.com</FONT></A>
			</FONT>
		</TD>
	</TR>
	</TABLE>
	</TD>
</TABLE>

</BODY>
</HTML>
