<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
	<!-- $Header$ -->
	<META NAME="Description" CONTENT="iText is a JAVA library that can be used to generate complex PDF documents (with images, tables,...).">
	<META NAME="Keywords" CONTENT="PDF, JAVA, servlets, iText, Tutorial, generate, internet, documents, Lowagie, Bruno">
	<META CONTENT="0" HTTP-EQUIV="Expires">
	<TITLE>iText - Tutorial</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#008080" VLINK="#008080" ALINK="#00CCCC">

<A NAME="top"></A>

<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="5" ALIGN="center" BGCOLOR="#808080">
<TR>
	<TD>
	<TABLE WIDTH="100%" BORDER="0" CELLSPACING="0" CELLPADDING="7" BGCOLOR="#008080">
	<TR>
		<TD COLSPAN="2" ALIGN="center">
			<FONT FACE="Times New Roman" SIZE="+3" COLOR="#FFFFFF"><I>i</I></FONT><FONT FACE="Arial,Helvetica" SIZE="+3" COLOR="#FFFFFF">Text Tutorial</FONT>
		</TD>
		<TD COLSPAN="3" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">iText, a Free Java-PDF library<BR>
			by </FONT><A HREF="http://www.lowagie.com/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Bruno Lowagie</FONT></A><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="http://www.lowagie.com/iText/"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Home</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center">&nbsp;</TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch02.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<BR>
			<FONT FACE="Arial,Helvetica" SIZE="+1">Part I: Document Generation</FONT><BR><BR>
			<FONT FACE="Arial,Helvetica"><B>Chapter 1: Creating a document</B></FONT><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Creation of a document in 5 steps: Hello World</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Download the source code of the first example: <A HREF="Chap0101.java">Chap0101.java</A>.<BR>
			<BR><A HREF="#step1"><B>Step 1:</B></A><BR>
			Create an instance of the <FONT FACE="Courier">com.lowagie.text.Document</FONT>-object:<BR>
			<FONT FACE="Courier">Document document = new Document();</FONT><BR>
			<BR><A HREF="#step2"><B>Step 2:</B></A><BR>
			Create a Writer that listens to this document and writes the document to the OutputStream of your choice:<BR>
			<FONT FACE="Courier">PdfWriter.getInstance(document, new FileOutputStream("Chap0101.pdf"));</FONT><BR>
			<BR><A HREF="#step3"><B>Step 3:</B></A><BR>
			Open the document:<BR>
			<FONT FACE="Courier">document.open();</FONT><BR>
			<BR><A HREF="#step4"><B>Step 4:</B></A><BR>
			Add content to the document:<BR>
			<FONT FACE="Courier">document.add(new Paragraph("Hello World"));</FONT><BR>
			<BR><A HREF="step5"><B>Step 5:</B></A><BR>
			Close the document:<BR>
			<FONT FACE="Courier">document.close();</FONT><BR><BR>
			Check the result here: <A HREF="Chap0101.pdf">Chap0101.pdf</A>.<BR>
			</FONT><BR>		
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<A NAME="step1"></A>
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Examining step 1: the Document-object</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			The <FONT FACE="Courier">com.lowagie.text.Document</FONT>-object has 3 constructors:<BR><BR>
			<FONT FACE="Courier">
			public Document();<BR>
			public Document(Rectangle pageSize);<BR>
			public Document(Rectangle pageSize,<BR>
			&nbsp;&nbsp;&nbsp;int marginLeft,<BR>
			&nbsp;&nbsp;&nbsp;int marginRight,<BR>
			&nbsp;&nbsp;&nbsp;int marginTop,<BR>
			&nbsp;&nbsp;&nbsp;int marginBottom);<BR>
			</FONT><BR>
			The first constructor calls the second one, with
			<FONT FACE="Courier">PageSize.A4</FONT> as parameter.<BR>
			The second constructor calls the third one, with
			<FONT FACE="Courier">36</FONT> as value for each margin.<BR>
			<BR>
			<B>PageSize</B><BR>
			You could create your own <FONT FACE="Courier">Rectangle</FONT>-object in a certain
			color and use this as pagesize.<BR>
			In example <A HREF="Chap0102.java">Chap0102.java</A>, we create a long, small
			document with a yellowish backgroundcolor:<BR>
			<FONT FACE="Courier">
			Rectangle pageSize = new Rectangle(144, 720);<BR>
			pageSize.setBackgroundColor(new java.awt.Color(0xFF, 0xFF, 0xDE));<BR>
			Document document = new Document(pageSize);
			</FONT><BR>
			This is the result: <A HREF="Chap0102.pdf">Chap0102.pdf</A>.
			Normally, you don't have to worry about creating this rectangle,
			you can use one of the statics in class
			<A HREF="http://itext.sourceforge.net/src/com/lowagie/text/PageSize.java"><FONT FACE="Courier">PageSize.java</FONT></A>.
			These are the pagesizes that are foreseen: A0-A10, LEGAL, LETTER, HALFLETTER, _11x17, LEDGER, NOTE, B0-B5, ARCH_A-ARCH_E, FLSA and FLSE.<BR><BR>
			Most these pageSizes are in PORTRAIT-format. If you want them to be in LANDSCAPE, all you have to do is <FONT FACE="Courier">rotate()</FONT>
			the <FONT FACE="Courier">Rectangle</FONT>:<BR>
			<FONT FACE="Courier">
			Document document = new Document(PageSize.A4.rotate());
			</FONT><BR>
			Check out example <A HREF="Chap0103.java">Chap0103.java</A> and its <A HREF="Chap0103.pdf">result</A>.
			<BR><BR>
			<B>Margins</B><BR>
			When creating a document, you can also define left, right, upper and lower margins:<BR>
			<FONT FACE="Courier">
			Document document = new Document(PageSize.A5, 36, 72, 108, 180);
			</FONT><BR>
			In example <A HREF="Chap0104.java">Chap0104.java</A> (and its result: <A HREF="Chap0104.pdf">Chap0104.pdf</A>),
			you will see that this document has a left margin of half an inch and a right margin of an inch.			
			The upper margin is one and a half inch, the lower two and a half.
			<BR><BR>
			<A NAME="measurements"></A>
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<B>Measurements</B><BR>When creating a rectangle or choosing a margin, you might wonder what measurement unit
				is used: centimeters, inches or pixels. In fact, the default measurement system
				roughly corresponds to the various definitions of the typographic unit of
				measurement known as the <I>point</I>. There are 72 points in 1 inch.<BR>
				If you want to create a rectangle in PDF that has the size of an A4-page,
				you have to calculate the number of points:<BR>
				&nbsp;&nbsp;&nbsp;21 cm / 2.54 = 8.2677 inch<BR>
				&nbsp;&nbsp;&nbsp;8.2677 * 72 = 595 points<BR>
				&nbsp;&nbsp;&nbsp;29.7 cm / 2.54 = 11.6929 inch<BR>
				&nbsp;&nbsp;&nbsp;11.6929 * 72 = 842 points<BR>
				The default border of 36 points corresponds with half an inch and the rectangle we created in Chap0102.java was 2 by 10 inches.</FONT>
				</TD>
				</TR>
			</TABLE>

			</FONT><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<A NAME="step2"></A>
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Examining step 2: the Writer-object</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Once our document is created, we can create one or more instances of writer
			that listen to this document. All writers should be derived from the abstract class
			<FONT FACE="Courier">com.lowagie.text.DocWriter</FONT>.<BR>For the moment there are two
			possibilities: you can use <FONT FACE="Courier">com.lowagie.text.pdf.PdfWriter</FONT>
			to generate documents in the Portable Document Format, or you can use
			<FONT FACE="Courier">com.lowagie.text.html.HtmlWriter</FONT> to generate documents
			in HTML. If for instance you want to generate TeX-documents as well, you could write
			a package: <FONT FACE="Courier">com.lowagie.text.TeX.TeXWriter</FONT>.<BR>
			<BR>
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<B>Remark:</B><BR>
				I wrote the HTML classes only for testing purposes. You really shouldn't
				use them in a production environment. The resulting HTML isn't very
				nice and there are lots of better tools around. If you do want to use
				it, please read <A HREF="ch08.html">Chapter 8</A> first.<BR>The HTML-package
				can be useful for debugging reasons. HTML is a lot more straightforward
				than PDF. When an error occurs while generating a PDF file, it is very hard
				to find what bug caused the error. The resulting PDF-file is too damaged
				to examin its contents. So while testing I always generate an HTML file
				at the same time in order to retrieve the exact place where the error occurs
				or the exact object that throws the exception.<BR>
				There is also a package <FONT FACE="Courier">com.lowagie.text.xml</FONT>,
				but for the moment it isn't producing correct XML
				(see <A HREF="ch09.html">Chapter 9</A>).
				</FONT>
				</TD>
				</TR>
			</TABLE><BR>
			The constructor of these writer-classes is made private. You can only create an
			instance with the following method:
			<FONT FACE="Courier">public static xxxWriter getInstance(Document document, OutputStream os) throws DocumentException</FONT><BR>
			(<FONT FACE="Courier">xxx</FONT> being Pdf or Html)<BR><BR>
			You can create an instance this way:<BR>
			<FONT FACE="Courier">PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream("Chap01xx.pdf"));</FONT><BR>
			but you will hardly ever need the object <FONT FACE="Courier">writer</FONT> (except if you want to create <A HREF="ch12.html">Advanced PDF</A>).<BR>
			So it's sufficient to just get the instance:<BR>
			<FONT FACE="Courier">PdfWriter.getInstance(document, new FileOutputStream("Chap01xx.pdf"));</FONT><BR><BR>
			It's trivial that the first parameter should be the document you created in <A HREF="#step1">step 1</A>.<BR>
			The second parameter can be an outputStream of any kind.<BR>
			Until now, we have always used a <FONT FACE="Courier">java.io.FileOutputStream</FONT> to write the document to a file,
			but in example <A HREF="Chap0105.java">Chap0105</A>, the outputStream is a <FONT FACE="Courier">javax.servlet.ServletOutputStream</FONT>.
			You can test this code by trying the following URLs:
			<UL>
			<LI><A HREF="http://webappcabaret.com/blowagie/Chap0105?presentationtype=pdf">http://webappcabaret.com/blowagie/Chap0105?presentationtype=pdf</A>
			<LI><A HREF="http://webappcabaret.com/blowagie/Chap0105?presentationtype=html">http://webappcabaret.com/blowagie/Chap0105?presentationtype=html</A>
			</UL>
			The first URL should return a PDF file with the current date and time. If you use MSIE as browser, you will only see a blank page due to a bug (see the
			<A HREF="http://www.lowagie.com/iText/faq.html#msie">FAQ</A>). The second URL shows you the current time as an HTML-file.<BR><BR>
			If you want to try a more difficult example (using the workaround in the FAQ), try the
			<A HREF="http://webappcabaret.com/blowagie/itext/">Calendar application</A> or take look at the
			following code: <A HREF="Calendar.java">Calendar.java</A> and <A HREF="Month.java">Month.java</A>.
			(These two classes will be used throughout the tutorial.)
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<A NAME="step3"></A>
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Examining step 3: Meta data + opening the document</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Before you add any actual data (= content), you might want to add some metadata
			about the document with one of these methods:<BR>
			<FONT FACE="Courier">
				public boolean addTitle(String title)<BR>
				public boolean addSubject(String subject)<BR>
				public boolean addKeywords(String keywords)<BR>
				public boolean addAuthor(String author)<BR>
				public boolean addProducer()<BR>
				public boolean addCreationDate()<BR>
				public boolean addHeader(String name, String content)<BR>
			</FONT><BR>
			You can choose your own title, subject, keywords and author,<BR> but the method that
			adds the producerdata should always add:<BR> <FONT FACE="Courier">iText by lowagie.com</FONT><BR>
			and the method that adds the creation date always add the current system time.<BR>
			You can also add a header with a custom name, but this will have no effect on the
			PdfWriter (for the moment it is only used in the HtmlWriter).<BR><BR>
			You can only add metadata this BEFORE the <FONT FACE="Courier">open</FONT>-method
			is invoked. This is a choice made by the developer of iText.<BR>In HTML meta-information is
			put between the <FONT FACE="Courier">HEAD</FONT>-tags at the beginning of the document
			(the header section). Invoking the <FONT FACE="Courier">open</FONT>-method causes the writer
			to write this header to the <FONT FACE="Courier">OutputStream</FONT>.
			So there is no way to change this data once the document is 'opened'.<BR>
			The PDF header doesn't contain any metadata, it looks like this:<BR>
			<FONT FACE="Courier">
			&nbsp;&nbsp;&nbsp;%PDF-1.2<BR>
			&nbsp;&nbsp;&nbsp;%‡·‚„
			</FONT><BR>
			The first line indicates the generated document is a file in the Portable Document Format version 1.2.<BR>
			The meaning of the second line is explained in the reference manual.
			<TABLE WIDTH="85%" ALIGN="center">
				<TR>
				<TD BGCOLOR="#CFCFCF">
				<FONT FACE="Arial,Helvetica" SIZE="-1">
				<B>Portable Document Format Reference Manual Version 1. 3 (section 2.3.2 'Portability' page 22):</B><BR>
				A PDF file is a binary file; the entire 8-bit range of characters may be used.
				Unfortunately, some agents treat files that happen to use only the printable subset
				of the 7-bit ASCII code and whitespace characters as ìtext,î and take unreasonable
				liberties with the contents. For example, mail-transmission systems may not
				preserve certain 7-bit characters and may change line endings. This can cause
				damage to PDF files.<BR>
				Therefore, in situations where it is possible to label PDF files as ìbinary,î we
				recommend that this be done. One method for encouraging such treatment is to
				include a few binary characters (codes greater than 127) in a comment near the
				beginning of the file.
				</TD>
				</TR>
			</TABLE>
			In PDF, the metadata is kept in a <FONT FACE="Courier">PdfInfo</FONT>-object,
			written to the PdfWriter when the document is closed. So there is no reason why one
			couldn't alter the library to be able to add or change the metadata at any time.<BR><BR>
			The <FONT FACE="Courier">open</FONT>-method also triggers some initialisations
			in the different writers. For instance if you want a <FONT FACE="Courier">Watermark</FONT>
			or a <FONT FACE="Courier">HeaderFooter</FONT>-object to appear starting on the FIRST page
			of the document, you have to add it BEFORE you open the document.
			The same goes for setting watermark, headers, footers, pagenumbers and sizes for the rest
			of the pages in the document.<BR>
			When you invoke method such as:<BR>
			<FONT FACE="Courier">public boolean setPageSize(Rectangle pageSize)</FONT><BR>
			<FONT FACE="Courier">public boolean add(Watermark watermark)</FONT><BR>
			<FONT FACE="Courier">public void removeWatermark()</FONT><BR>
			<FONT FACE="Courier">public void setHeader(HeaderFooter header)</FONT><BR>
			<FONT FACE="Courier">public void resetHeader()</FONT><BR>
			<FONT FACE="Courier">public void setFooter(HeaderFooter footer)</FONT><BR>
			<FONT FACE="Courier">public void resetFooter()</FONT><BR>
			<FONT FACE="Courier">public void resetPageCount()</FONT><BR>
			<FONT FACE="Courier">public void setPageCount(int pageN)</FONT><BR>
			the result of these methods will only be seen on the next new page (when the
			initialisation methods of this page are called).
			</FONT><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<A NAME="step4"></A>
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Examining step 4: adding content</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			In the different examples explaining step 1 to 3, you have already encountered objects
			such as Phrase, Paragraph,... In the next 5 chapters all these objects will be explained
			more thoroughly.<BR>
			<!-- pause- and resume-methods -->
			</FONT><BR>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN="5" BGCOLOR="#FFFFFF">
			<A NAME="step5"></A>
			<FONT FACE="Arial,Helvetica" COLOR="#008080"><B>Examining step 5: closing the document</B></FONT><BR>
			<FONT FACE="Arial,Helvetica" SIZE="-1">
			Closing the document is very important, because it flushes and closes the outputstream to which
			the writer is writing. The close-method is called in the finalize-method, but you shouldn't count
			on that. You should always close the document yourself!
			</FONT><BR><BR><BR>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="#top"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Top</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center">&nbsp;</TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="index.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">TOC</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="ch02.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">Next</FONT></A>]</FONT></TD>
		<TD WIDTH="20%" ALIGN="center"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF" SIZE="-1">[<A HREF="notyet.html"><FONT FACE="Arial,Helvetica" COLOR="#FFFFFF">PDF</FONT></A>]</FONT></TD>
	</TR>
	<TR>
		<TD COLSPAN="2" ALIGN="left" VALIGN="top" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			<B>Page Updated: </B> $Date$<br>
			Copyright &copy; 2000, 2001 by Bruno Lowagie
			</FONT>
		</TD>
		<TD COLSPAN="3" ALIGN="right" BGCOLOR="#808080">
			<FONT FACE="Arial,Helvetica" SIZE="-3">
			Adolf Baeyensstraat 121, 9040 Gent, BELGIUM,<br>
			tel +00 32 92 28 10 97 mailto:<A HREF="mailto:bruno@lowagie.com"><FONT COLOR="#000000">bruno@lowagie.com</FONT></A>
			</FONT>
		</TD>
	</TR>
	</TABLE>
	</TD>
</TABLE>

</BODY>
</HTML>

