<?xml version="1.0" encoding="UTF-8" ?> 
<site:page
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:site="http://www.lowagie.com/iText/site" >
	<site:metadata>
		<site:title>Colors</site:title>
		<site:summary>Colors, Transparency, Spotcolors, Patterns and Shading.</site:summary>
		<site:keywords>PDF, JAVA, iText, examples, patterns, shading, transparency, colors, Lowagie, Bruno</site:keywords>
		<site:amazonbooks>
			<site:book asin="0321304748">PDF Reference (4th Edition)</site:book>
			<site:keyword>PDF</site:keyword>
			<site:keyword>Colors</site:keyword>
		</site:amazonbooks>
		<site:updated>$Date$</site:updated>
		<site:author>Bruno Lowagie</site:author>
	</site:metadata>
	
	<site:examples>
		<site:example>
			<site:java src="SpotColors" standalone="yes" />
			<site:result>spotcolor.pdf</site:result>
			<site:description>Using spotcolors.</site:description>
		</site:example>
		<site:example>
			<site:java src="Pattern" standalone="yes" />
			<site:result>pattern.pdf</site:result>
			<site:description>Painting colored patterns.</site:description>
		</site:example>
		<site:example>
			<site:java src="Patterns" standalone="yes" />
			<site:externalresource>pngnow.png</site:externalresource>
			<site:result>patterns.pdf</site:result>
			<site:description>Painting patterns.</site:description>
		</site:example>
		<site:example>
			<site:java src="Shading" standalone="yes" />
			<site:result>shading.pdf</site:result>
			<site:description>Shading.</site:description>
		</site:example>
		<site:example>
			<site:java src="ShadingPattern" standalone="yes" />
			<site:result>shading_pattern.pdf</site:result>
			<site:description>Shading pattern.</site:description>
		</site:example>
		<site:example>
			<site:java src="Transparency" standalone="yes" />
			<site:result>transparency.pdf</site:result>
			<site:description>Reproducing PLATE 16 on p1053 in the PDF Reference Manual</site:description>
		</site:example>
		<site:example>
			<site:java src="Groups" standalone="yes" />
			<site:result>groups.pdf</site:result>
			<site:description>Making images transparent.</site:description>
		</site:example>
		<site:example>
			<site:java src="SoftMask" standalone="yes" />
			<site:externalresource>otsoe.jpg</site:externalresource>
			<site:result>softmask.pdf</site:result>
			<site:description>Making images transparent.</site:description>
		</site:example>
	</site:examples>
	
	<site:chapter>
	<site:section name="device">
		<site:sectiontitle>Device Color spaces</site:sectiontitle>
<div>
In the chapter on Graphics, we already discussed methods such as
<site:doc class="com.lowagie.text.pdf.PdfContentByte" target="setRGBColorFill(int,%20int,%20int)">setRGBColorFill/Stroke</site:doc> (Red-Green-Blue),
<site:doc class="com.lowagie.text.pdf.PdfContentByte" target="setCMYKColorFill(int,int,%20int,%20int)">setCMYKColorFill/Stroke</site:doc> (Cyan-Magenta-Yellow-Black) and
<site:doc class="com.lowagie.text.pdf.PdfContentByte" target="setGrayFill(float)">setGrayFill/Stroke</site:doc> (grayscale).
With those methods, you can change to color that is used to fill or stroke paths.
Those methods also change the color space automatically to DeviceRGB, DeviceCMYK or DeviceGray.
These are <i>device color spaces</i>; they directly specify colors or shades of gray
that the output device is to produce.<br />
In PDF, a lot of other color spaces are possible. Not all of the PDF functionality is supported in iText.
If you need a more specialized feature and you don't find it here, you should post a question
to the mailing-list to see if it's already implemented in iText. If you need functionality
such as transparancy, spotcolor, pantone, patterns or shading, just scroll down this page and you'll find
lots of examples.
</div>
	</site:section>
	
	<site:section name="spotcolors">
		<site:sectiontitle>Separation Color Spaces</site:sectiontitle>
<div>
PDF Reference Manual p234:
<blockquote>
Color output devices produce full color by combining primary or process colorants
in varying amounts. On an additive color device such as a display, the primary
colorants consist of red, green, and blue phosphors; on a subtractive device such
as a printer, they typically consist of cyan, magenta, yellow, and sometimes black inks.
In addition some devices can apply special colorants, often called <i>spot colorants</i>,
to produce effects that can not be achieved with the standard process colorants alone.
Examples include metallic and fluorescent colors and special textures.<br />
When printing a page, most devices produce a single <i>composite</i> page
on which all process colorants (and spot colorants, if any) are combined.
However, some devices, such as imagesetters, produce a separate, monochromatic rendition
of the page, called a <i>separation</i>, for each colorant. When the separations are later
combined - on a printing process, for example - and the proper inks or colorants are applied
to them, the result is a full-color page.<br />
A <i>separation color space</i> provides a means for specifying the use of additional
colorants or for isolating the control of individual color components of a device color space
for a subtractive device. When such a space is the current color space, the current
color is a single-component value, called a <i>tint</i>, that controls the application
of the given colorant or color components only.</blockquote>
In iText, you can create SpotColors with the
<site:doc class="com.lowagie.text.pdf.PdfSpotColor">PdfSpotColor</site:doc> class.
You need to give a name to the color, a tint and an alternative color space value.
For this last parameter, the class <site:doc class="com.lowagie.text.pdf.ExtendedColor">ExtendedColor</site:doc> was created.
It extends java.awt.Color. If you want to create a PdfSpotColor with RGB as alternative color space,
use java.awt.Color. If you want CMYK, use <site:doc class="com.lowagie.text.pdf.CMYKColor">CMYKColor</site:doc>
which extends ExtendedColor. Use <site:doc class="com.lowagie.text.pdf.GrayColor">GrayColor</site:doc> if you want grayscale.<br />
These PdfSpotColors can be used with the
<site:doc class="com.lowagie.text.pdf.PdfContentByte" target="setColorFill(com.lowagie.text.pdf.PdfSpotColor,%20float)">PdfContentByte.setColorFill/Stroke</site:doc> methods.
If you want to use a PdfSpotColor for high level objects, you have to use the
<site:doc class="com.lowagie.text.pdf.SpotColor">SpotColor</site:doc> class.
<site:source class="SpotColors" />
</div>
	</site:section>

	<site:section name="patterns">
		<site:sectiontitle>Patterns</site:sectiontitle>
<div>
When stroking or filling a path, we always used a single color. However, it is also
possible to apply <i>paint</i> that consists of a repeating graphical figure or a smoothly varying color gradient
instead of a simple color. Such a repeating figure or smooth gradient is called a <i>pattern</i>.
<div class="subtitle">Tiling patterns</div>
<table>
<tr>
<td><site:doc class="com.lowagie.text.pdf.PdfContentByte" target="createPattern(float,%20float)">createPattern(float,%20float)</site:doc></td>
</tr>
<tr>
<td><site:doc class="com.lowagie.text.pdf.PdfContentByte" target="createPattern(float,%20float,%20java.awt.Color)">createPattern(float,%20float,%20java.awt.Color)</site:doc></td>
</tr>
<tr>
<td><site:doc class="com.lowagie.text.pdf.PdfContentByte" target="createPattern(float,%20float,%20float,%20float)">createPattern(float,%20float,%20float,%20float)</site:doc></td>
</tr>
<tr>
<td><site:doc class="com.lowagie.text.pdf.PdfContentByte" target="createPattern(float,%20float,%20float,%20float,%20java.awt.Color)">createPattern(float,%20float,%20float,%20float,%20java.awt.Color)</site:doc></td>
</tr>
</table>
<site:source class="Pattern" />
<site:source class="Patterns" />
<div class="subtitle">Shading patterns</div>
<site:source class="Shading" />
<site:source class="ShadingPattern" />
</div>
	</site:section>
	
	<site:section name="transparency">
		<site:sectiontitle>Transparency</site:sectiontitle>
<div>
There's a complete chapter on Transparency in the PDF Reference manual (Chapter 7, p483).
If you take a look at the <site:tutorial chapter="/directcontent" section="pdfcontentbyte">iText approach</site:tutorial> of adding content,
you see you can add content to a top layer to cover content in a lower layer or vice-versa.
Since PDF 1.4 however, <i>overlapping</i> content doesn't necessarily mean <i>covering</i> the content that is below (covering in the sense of making it disappear).
With version 1.4 of the PDF specs, the <i>Transparent Imaging Model</i> was introduced, which means you
can now have all of the 'layers' contributing to what is actually shown on a page.<br />
The following image was copied from the PDF Reference Manual (p1053):
<site:image source="transparency.gif">Transparency</site:image><br />
As you can see, there are 4 squares with a half in gray and a half in white.
This is called the <i>backdrop</i> (the stack of all objects that have been specified previously).
After adding these squares, some colored circles were added. In the first square, they were added
without using any transparency. The blue circle covers the yellow one, which covers the red one.<br />
In the second square, we changed the fill <i>opacity</i> to 0.5. Now you see the circles are blending.
You also see the backdrop shining through.<br />
In the third square, the circles are in the same <i>transparency group</i>. Within their group, the objects are
painted with the default opacity (1 = no opacity). The group is painted with opacity 0.5.
So as you see, the blue circle covers, the yellow one, which covers the red one; but when they are
adding above the square, the gray half is blended with the group of circles.<br />
In the fourth square, the circles in the group have an opacity of 0.5, so the colors composite with each other.
The group is added on top of the backdrop with an opacity of 1, but in a different <i>blend mode</i>.
<site:source class="Transparency" />
Chapter 7 in the PDF Reference Manual gives you all the different <i>blend modes</i> (in iText, you
can set them by using the <site:doc class="com.lowagie.text.pdf.PdfGState" target="setBlendMode(com.lowagie.text.pdf.PdfName)">PdfGState.setBlendMode</site:doc>;
see also the chapter on the <site:tutorial chapter="/directcontent/graphics" section="parameters">Graphics State</site:tutorial>,
where you will find a list of all the available blendmodes). Transparancy groups settings are set with
<site:doc class="com.lowagie.text.pdf.PdfTransparencyGroup" target="setIsolated(boolean)">PdfTransparencyGroup.setIsolated</site:doc> (determining the initial backdrop against which its stack is composited) and
<site:doc class="com.lowagie.text.pdf.PdfTransparencyGroup" target="setKnockout(boolean)">PdfTransparencyGroup.setKnockout</site:doc> (determining whether the objects within the stack are composited with one another or only with the group's backdrop.).
<site:source class="Groups" />
Another nice example of applying the Transparent Imaging Model, is the use of an Image as <i>soft mask</i>.
<site:source class="SoftMask" />
</div>
	</site:section>
	</site:chapter>

</site:page>